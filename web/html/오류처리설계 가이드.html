<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python YOLO/OpenCV ì˜¤ë¥˜ ì²˜ë¦¬ ì„¤ê³„ ê°€ì´ë“œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .nav-tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 5px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }
        
        .nav-tab {
            flex: 1;
            padding: 12px 20px;
            text-align: center;
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-size: 1em;
        }
        
        .nav-tab.active {
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .nav-tab:hover {
            background: rgba(255, 255, 255, 0.15);
        }
        
        .tab-content {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }
        
        .section h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            line-height: 1.6;
        }
        
        .code-block pre {
            margin: 0;
        }
        
        .error-type {
            background: #fff5f5;
            border: 1px solid #fed7d7;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }
        
        .error-type h4 {
            color: #e53e3e;
            margin-bottom: 10px;
        }
        
        .solution {
            background: #f0fff4;
            border: 1px solid #9ae6b4;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }
        
        .solution h4 {
            color: #38a169;
            margin-bottom: 10px;
        }
        
        .checklist {
            background: #fffaf0;
            border: 1px solid #fbb6ce;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .checklist h4 {
            color: #d69e2e;
            margin-bottom: 15px;
        }
        
        .checklist-item {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 8px;
            background: white;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .checklist-item:hover {
            background: #fef5e7;
        }
        
        .checklist-item input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }
        
        .tips {
            background: linear-gradient(135deg, #e0f2fe 0%, #e1f5fe 100%);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .tips h4 {
            color: #0277bd;
            margin-bottom: 15px;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .interactive-demo {
            background: #1a202c;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .demo-input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #4a5568;
            border-radius: 5px;
            background: #2d3748;
            color: #e2e8f0;
        }
        
        .demo-output {
            background: #2d3748;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            min-height: 100px;
            border: 1px solid #4a5568;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ Python YOLO/OpenCV ì˜¤ë¥˜ ì²˜ë¦¬ ì„¤ê³„</h1>
            <p>VSCode + Conda í™˜ê²½ì—ì„œì˜ ì™„ë²½í•œ ì˜¤ë¥˜ ì²˜ë¦¬ ê°€ì´ë“œ</p>
        </div>
        
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('basics')">ê¸°ë³¸ ì›ì¹™</button>
            <button class="nav-tab" onclick="showTab('common-errors')">ì¼ë°˜ì ì¸ ì˜¤ë¥˜</button>
            <button class="nav-tab" onclick="showTab('yolo-errors')">YOLO ì˜¤ë¥˜</button>
            <button class="nav-tab" onclick="showTab('opencv-errors')">OpenCV ì˜¤ë¥˜</button>
            <button class="nav-tab" onclick="showTab('best-practices')">ëª¨ë²” ì‚¬ë¡€</button>
            <button class="nav-tab" onclick="showTab('checklist')">ì²´í¬ë¦¬ìŠ¤íŠ¸</button>
        </div>
        
        <div id="basics" class="tab-content active">
            <div class="section">
                <h3>ğŸ¯ ì˜¤ë¥˜ ì²˜ë¦¬ ê¸°ë³¸ ì›ì¹™</h3>
                <p>Pythonì—ì„œ íš¨ê³¼ì ì¸ ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ìœ„í•œ í•µì‹¬ ì›ì¹™ë“¤ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.</p>
                
                <div class="code-block">
                    <pre># 1. êµ¬ì²´ì ì¸ ì˜ˆì™¸ ì²˜ë¦¬
try:
    # ìœ„í—˜í•œ ì½”ë“œ
    result = risky_operation()
except FileNotFoundError as e:
    logger.error(f"íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: {e}")
    return None
except ValueError as e:
    logger.error(f"ê°’ ì˜¤ë¥˜: {e}")
    return None
except Exception as e:
    logger.error(f"ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜: {e}")
    return None

# 2. ë¡œê¹… ì‹œìŠ¤í…œ êµ¬ì¶•
import logging

logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('app.log'),
        logging.StreamHandler()
    ]
)

logger = logging.getLogger(__name__)</pre>
                </div>
                
                <div class="tips">
                    <h4>ğŸ’¡ í•µì‹¬ íŒ</h4>
                    <ul>
                        <li>í•­ìƒ êµ¬ì²´ì ì¸ ì˜ˆì™¸ íƒ€ì…ì„ ì¡ìœ¼ì„¸ìš”</li>
                        <li>ë¡œê¹…ì„ í†µí•´ ë””ë²„ê¹… ì •ë³´ë¥¼ ë‚¨ê¸°ì„¸ìš”</li>
                        <li>ì‚¬ìš©ìì—ê²Œ ì¹œí™”ì ì¸ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì œê³µí•˜ì„¸ìš”</li>
                        <li>ì˜ˆì™¸ ë°œìƒ ì‹œ ì ì ˆí•œ ëŒ€ì•ˆì„ ì œì‹œí•˜ì„¸ìš”</li>
                    </ul>
                </div>
            </div>
            
            <div class="section">
                <h3>ğŸ”§ ì˜¤ë¥˜ ì²˜ë¦¬ ë°ì½”ë ˆì´í„°</h3>
                <p>ë°˜ë³µì ì¸ ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ìœ„í•œ ë°ì½”ë ˆì´í„°ë¥¼ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.</p>
                
                <div class="code-block">
                    <pre>import functools
import logging

def error_handler(default_return=None, log_errors=True):
    """ì˜¤ë¥˜ ì²˜ë¦¬ ë°ì½”ë ˆì´í„°"""
    def decorator(func):
        @functools.wraps(func)
        def wrapper(*args, **kwargs):
            try:
                return func(*args, **kwargs)
            except Exception as e:
                if log_errors:
                    logging.error(f"{func.__name__}ì—ì„œ ì˜¤ë¥˜ ë°œìƒ: {e}")
                return default_return
        return wrapper
    return decorator

# ì‚¬ìš© ì˜ˆì‹œ
@error_handler(default_return=False, log_errors=True)
def load_model(model_path):
    """ëª¨ë¸ ë¡œë”© í•¨ìˆ˜"""
    model = YOLO(model_path)
    return model</pre>
                </div>
            </div>
        </div>
        
        <div id="common-errors" class="tab-content">
            <div class="section">
                <h3>âš ï¸ ì¼ë°˜ì ì¸ Python ì˜¤ë¥˜</h3>
                
                <div class="error-type">
                    <h4>FileNotFoundError</h4>
                    <p>íŒŒì¼ì´ë‚˜ ë””ë ‰í† ë¦¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œ ë°œìƒ</p>
                    <div class="code-block">
                        <pre>import os
from pathlib import Path

def safe_file_load(file_path):
    """ì•ˆì „í•œ íŒŒì¼ ë¡œë”©"""
    try:
        if not os.path.exists(file_path):
            raise FileNotFoundError(f"íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: {file_path}")
        
        with open(file_path, 'r', encoding='utf-8') as f:
            return f.read()
    except FileNotFoundError as e:
        logger.error(f"íŒŒì¼ ë¡œë”© ì‹¤íŒ¨: {e}")
        return None
    except PermissionError:
        logger.error(f"íŒŒì¼ ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤: {file_path}")
        return None</pre>
                    </div>
                </div>
                
                <div class="error-type">
                    <h4>ImportError / ModuleNotFoundError</h4>
                    <p>ëª¨ë“ˆì„ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ì„ ë•Œ ë°œìƒ</p>
                    <div class="code-block">
                        <pre>def check_dependencies():
    """í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ í™•ì¸"""
    required_packages = {
        'cv2': 'opencv-python',
        'ultralytics': 'ultralytics',
        'numpy': 'numpy',
        'torch': 'torch'
    }
    
    missing_packages = []
    
    for package, install_name in required_packages.items():
        try:
            __import__(package)
            print(f"âœ… {package} ì„¤ì¹˜ë¨")
        except ImportError:
            missing_packages.append(install_name)
            print(f"âŒ {package} ì„¤ì¹˜ í•„ìš”")
    
    if missing_packages:
        print(f"ë‹¤ìŒ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”: {', '.join(missing_packages)}")
        return False
    return True</pre>
                    </div>
                </div>
                
                <div class="error-type">
                    <h4>MemoryError</h4>
                    <p>ë©”ëª¨ë¦¬ ë¶€ì¡±ìœ¼ë¡œ ì¸í•œ ì˜¤ë¥˜</p>
                    <div class="code-block">
                        <pre>import gc
import psutil

def monitor_memory():
    """ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§"""
    memory = psutil.virtual_memory()
    print(f"ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ : {memory.percent}%")
    
    if memory.percent > 80:
        print("âš ï¸ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ë†’ìŠµë‹ˆë‹¤!")
        gc.collect()  # ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ ì‹¤í–‰
        return False
    return True

def process_with_memory_check(data):
    """ë©”ëª¨ë¦¬ ì²´í¬ì™€ í•¨ê»˜ ì²˜ë¦¬"""
    if not monitor_memory():
        print("ë©”ëª¨ë¦¬ ë¶€ì¡±ìœ¼ë¡œ ì²˜ë¦¬ë¥¼ ì¤‘ë‹¨í•©ë‹ˆë‹¤.")
        return None
    
    try:
        result = heavy_processing(data)
        return result
    except MemoryError:
        print("ë©”ëª¨ë¦¬ ë¶€ì¡± ì˜¤ë¥˜ ë°œìƒ")
        gc.collect()
        return None</pre>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="yolo-errors" class="tab-content">
            <div class="section">
                <h3>ğŸ¯ YOLO ê´€ë ¨ ì˜¤ë¥˜ ì²˜ë¦¬</h3>
                
                <div class="error-type">
                    <h4>ëª¨ë¸ ë¡œë”© ì˜¤ë¥˜</h4>
                    <div class="code-block">
                        <pre>from ultralytics import YOLO
import os

class YOLOModelManager:
    def __init__(self):
        self.model = None
        self.model_path = None
    
    def load_model(self, model_path):
        """ì•ˆì „í•œ YOLO ëª¨ë¸ ë¡œë”©"""
        try:
            # íŒŒì¼ ì¡´ì¬ í™•ì¸
            if not os.path.exists(model_path):
                raise FileNotFoundError(f"ëª¨ë¸ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: {model_path}")
            
            # íŒŒì¼ í™•ì¥ì í™•ì¸
            if not model_path.endswith(('.pt', '.onnx', '.engine')):
                raise ValueError(f"ì§€ì›í•˜ì§€ ì•ŠëŠ” ëª¨ë¸ í˜•ì‹ì…ë‹ˆë‹¤: {model_path}")
            
            # ëª¨ë¸ ë¡œë”©
            self.model = YOLO(model_path)
            self.model_path = model_path
            logger.info(f"âœ… ëª¨ë¸ ë¡œë”© ì„±ê³µ: {model_path}")
            return True
            
        except FileNotFoundError as e:
            logger.error(f"íŒŒì¼ ì˜¤ë¥˜: {e}")
            return False
        except Exception as e:
            logger.error(f"ëª¨ë¸ ë¡œë”© ì‹¤íŒ¨: {e}")
            return False
    
    def predict_safe(self, image_path, conf=0.5):
        """ì•ˆì „í•œ ì˜ˆì¸¡ ìˆ˜í–‰"""
        if self.model is None:
            logger.error("ëª¨ë¸ì´ ë¡œë”©ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.")
            return None
        
        try:
            results = self.model(image_path, conf=conf)
            return results
        except Exception as e:
            logger.error(f"ì˜ˆì¸¡ ì‹¤íŒ¨: {e}")
            return None</pre>
                    </div>
                </div>
                
                <div class="error-type">
                    <h4>GPU ë©”ëª¨ë¦¬ ì˜¤ë¥˜</h4>
                    <div class="code-block">
                        <pre>import torch

def check_gpu_memory():
    """GPU ë©”ëª¨ë¦¬ í™•ì¸"""
    if torch.cuda.is_available():
        gpu_memory = torch.cuda.get_device_properties(0).total_memory
        gpu_memory_used = torch.cuda.memory_allocated(0)
        gpu_memory_free = gpu_memory - gpu_memory_used
        
        print(f"GPU ë©”ëª¨ë¦¬ - ì „ì²´: {gpu_memory/1024**3:.2f}GB")
        print(f"GPU ë©”ëª¨ë¦¬ - ì‚¬ìš©: {gpu_memory_used/1024**3:.2f}GB")
        print(f"GPU ë©”ëª¨ë¦¬ - ì—¬ìœ : {gpu_memory_free/1024**3:.2f}GB")
        
        if gpu_memory_free < 1024**3:  # 1GB ë¯¸ë§Œ
            print("âš ï¸ GPU ë©”ëª¨ë¦¬ ë¶€ì¡±!")
            return False
    return True

def process_with_gpu_check(model, image_batch):
    """GPU ë©”ëª¨ë¦¬ ì²´í¬ì™€ í•¨ê»˜ ì²˜ë¦¬"""
    if not check_gpu_memory():
        # CPUë¡œ ì „í™˜
        model.to('cpu')
        print("CPU ëª¨ë“œë¡œ ì „í™˜ë©ë‹ˆë‹¤.")
    
    try:
        results = model(image_batch)
        return results
    except torch.cuda.OutOfMemoryError:
        print("GPU ë©”ëª¨ë¦¬ ë¶€ì¡±ìœ¼ë¡œ CPUë¡œ ì „í™˜í•©ë‹ˆë‹¤.")
        torch.cuda.empty_cache()
        model.to('cpu')
        return model(image_batch)</pre>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="opencv-errors" class="tab-content">
            <div class="section">
                <h3>ğŸ“· OpenCV ê´€ë ¨ ì˜¤ë¥˜ ì²˜ë¦¬</h3>
                
                <div class="error-type">
                    <h4>ì´ë¯¸ì§€ ë¡œë”© ì˜¤ë¥˜</h4>
                    <div class="code-block">
                        <pre>import cv2
import numpy as np

def safe_image_load(image_path):
    """ì•ˆì „í•œ ì´ë¯¸ì§€ ë¡œë”©"""
    try:
        # íŒŒì¼ ì¡´ì¬ í™•ì¸
        if not os.path.exists(image_path):
            raise FileNotFoundError(f"ì´ë¯¸ì§€ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: {image_path}")
        
        # ì´ë¯¸ì§€ ë¡œë”©
        image = cv2.imread(image_path)
        
        # ë¡œë”© ì‹¤íŒ¨ í™•ì¸
        if image is None:
            raise ValueError(f"ì´ë¯¸ì§€ ë¡œë”© ì‹¤íŒ¨: {image_path}")
        
        # ì´ë¯¸ì§€ í¬ê¸° í™•ì¸
        if image.shape[0] == 0 or image.shape[1] == 0:
            raise ValueError(f"ì˜ëª»ëœ ì´ë¯¸ì§€ í¬ê¸°: {image.shape}")
        
        logger.info(f"âœ… ì´ë¯¸ì§€ ë¡œë”© ì„±ê³µ: {image_path}, í¬ê¸°: {image.shape}")
        return image
        
    except FileNotFoundError as e:
        logger.error(f"íŒŒì¼ ì˜¤ë¥˜: {e}")
        return None
    except ValueError as e:
        logger.error(f"ì´ë¯¸ì§€ ì˜¤ë¥˜: {e}")
        return None
    except Exception as e:
        logger.error(f"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜: {e}")
        return None</pre>
                    </div>
                </div>
                
                <div class="error-type">
                    <h4>ì›¹ìº  ì—°ê²° ì˜¤ë¥˜</h4>
                    <div class="code-block">
                        <pre>class SafeVideoCapture:
    def __init__(self, source=0):
        self.source = source
        self.cap = None
        self.is_opened = False
    
    def open(self):
        """ì•ˆì „í•œ ë¹„ë””ì˜¤ ìº¡ì²˜ ì—´ê¸°"""
        try:
            self.cap = cv2.VideoCapture(self.source)
            
            if not self.cap.isOpened():
                raise RuntimeError(f"ë¹„ë””ì˜¤ ì†ŒìŠ¤ë¥¼ ì—´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: {self.source}")
            
            # í…ŒìŠ¤íŠ¸ í”„ë ˆì„ ì½ê¸°
            ret, frame = self.cap.read()
            if not ret:
                raise RuntimeError("ë¹„ë””ì˜¤ í”„ë ˆì„ì„ ì½ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
            
            self.is_opened = True
            logger.info(f"âœ… ë¹„ë””ì˜¤ ìº¡ì²˜ ì—´ê¸° ì„±ê³µ: {self.source}")
            return True
            
        except RuntimeError as e:
            logger.error(f"ë¹„ë””ì˜¤ ìº¡ì²˜ ì˜¤ë¥˜: {e}")
            return False
        except Exception as e:
            logger.error(f"ì•Œ ìˆ˜ ì—†ëŠ” ë¹„ë””ì˜¤ ì˜¤ë¥˜: {e}")
            return False
    
    def read_frame(self):
        """ì•ˆì „í•œ í”„ë ˆì„ ì½ê¸°"""
        if not self.is_opened or self.cap is None:
            return None
        
        try:
            ret, frame = self.cap.read()
            if not ret:
                logger.warning("í”„ë ˆì„ ì½ê¸° ì‹¤íŒ¨")
                return None
            return frame
        except Exception as e:
            logger.error(f"í”„ë ˆì„ ì½ê¸° ì˜¤ë¥˜: {e}")
            return None
    
    def release(self):
        """ì•ˆì „í•œ ë¦¬ì†ŒìŠ¤ í•´ì œ"""
        if self.cap is not None:
            self.cap.release()
            self.is_opened = False
            logger.info("ë¹„ë””ì˜¤ ìº¡ì²˜ í•´ì œë¨")</pre>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="best-practices" class="tab-content">
            <div class="section">
                <h3>ğŸ† ëª¨ë²” ì‚¬ë¡€</h3>
                
                <div class="solution">
                    <h4>ì™„ì „í•œ ì˜¤ë¥˜ ì²˜ë¦¬ í…œí”Œë¦¿</h4>
                    <div class="code-block">
                        <pre>import logging
import cv2
from ultralytics import YOLO
import torch
import os
from pathlib import Path

# ë¡œê¹… ì„¤ì •
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('computer_vision.log'),
        logging.StreamHandler()
    ]
)
logger = logging.getLogger(__name__)

class ComputerVisionPipeline:
    def __init__(self):
        self.model = None
        self.device = self._get_device()
        
    def _get_device(self):
        """ìµœì ì˜ ë””ë°”ì´ìŠ¤ ì„ íƒ"""
        if torch.cuda.is_available():
            logger.info("CUDA ì‚¬ìš© ê°€ëŠ¥ - GPU ëª¨ë“œ")
            return 'cuda'
        else:
            logger.info("CUDA ì‚¬ìš© ë¶ˆê°€ - CPU ëª¨ë“œ")
            return 'cpu'
    
    def setup_model(self, model_path):
        """ëª¨ë¸ ì„¤ì •"""
        try:
            # íŒŒì¼ ì¡´ì¬ í™•ì¸
            if not Path(model_path).exists():
                raise FileNotFoundError(f"ëª¨ë¸ íŒŒì¼ ì—†ìŒ: {model_path}")
            
            # ëª¨ë¸ ë¡œë”©
            self.model = YOLO(model_path)
            self.model.to(self.device)
            
            logger.info(f"âœ… ëª¨ë¸ ì„¤ì • ì™„ë£Œ: {model_path}")
            return True
            
        except Exception as e:
            logger.error(f"âŒ ëª¨ë¸ ì„¤ì • ì‹¤íŒ¨: {e}")
            return False
    
    def process_image(self, image_path, output_path=None):
        """ì´ë¯¸ì§€ ì²˜ë¦¬"""
        try:
            # ì „ì²˜ë¦¬
            image = self._preprocess_image(image_path)
            if image is None:
                return None
            
            # ì˜ˆì¸¡
            results = self._predict(image)
            if results is None:
                return None
            
            # í›„ì²˜ë¦¬
            output_image = self._postprocess(image, results)
            
            # ì €ì¥
            if output_path:
                self._save_result(output_image, output_path)
            
            return output_image
            
        except Exception as e:
            logger.error(f"ì´ë¯¸ì§€ ì²˜ë¦¬ ì‹¤íŒ¨: {e}")
            return None
    
    def _preprocess_image(self, image_path):
        """ì´ë¯¸ì§€ ì „ì²˜ë¦¬"""
        try:
            image = cv2.imread(image_path)
            if image is None:
                raise ValueError(f"ì´ë¯¸ì§€ ë¡œë”© ì‹¤íŒ¨: {image_path}")
            
            # ì´ë¯¸ì§€ í¬ê¸° í™•ì¸
            height, width = image.shape[:2]
            if height == 0 or width == 0:
                raise ValueError(f"ì˜ëª»ëœ ì´ë¯¸ì§€ í¬ê¸°: {image.shape}")
            
            return image
            
        except Exception as e:
            logger.error(f"ì´ë¯¸ì§€ ì „ì²˜ë¦¬ ì‹¤íŒ¨: {e}")
            return None
    
    def _predict(self, image):
        """ì˜ˆì¸¡ ìˆ˜í–‰"""
        try:
            if self.model is None:
                raise RuntimeError("ëª¨ë¸ì´ ë¡œë”©ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.")
            
            results = self.model(image)
            return results
            
        except torch.cuda.OutOfMemoryError:
            logger.warning("GPU ë©”ëª¨ë¦¬ ë¶€ì¡±, CPUë¡œ ì „í™˜")
            self.model.to('cpu')
            return self.model(image)
        except Exception as e:
            logger.error(f"ì˜ˆì¸¡ ì‹¤íŒ¨: {e}")
            return None
    
    def _postprocess(self, image, results):
        """ê²°ê³¼ í›„ì²˜ë¦¬"""
        try:
            # ê²°ê³¼ ê·¸ë¦¬ê¸°
            annotated_image = results[0].plot()
            return annotated_image
            
        except Exception as e:
            logger.error(f"í›„ì²˜ë¦¬ ì‹¤íŒ¨: {e}")
            return image
    
    def _save_result(self, image, output_path):
        """ê²°ê³¼ ì €ì¥"""
        try:
            # ì¶œë ¥ ë””ë ‰í† ë¦¬ ìƒì„±
            output_dir = Path(output_path).parent
            output_dir.mkdir(parents=True, exist_ok=True)
            
            # ì´ë¯¸ì§€ ì €ì¥
            cv2.imwrite(str(output_path), image)
            logger.info(f"ê²°ê³¼ ì €ì¥: {output_path}")
            
        except Exception as e:
            logger.error(f"ì €ì¥ ì‹¤íŒ¨: {e}")

# ì‚¬ìš© ì˜ˆì‹œ
if __name__ == "__main__":
    pipeline = ComputerVisionPipeline()
    
    if pipeline.setup_model("yolov8n.pt"):
        result = pipeline.process_image("input.jpg", "output.jpg")
        if result is not None:
            print("âœ… ì²˜ë¦¬ ì™„ë£Œ")
        else:
            print("âŒ ì²˜ë¦¬ ì‹¤íŒ¨")</pre>
                    </div>
                </div>
                
                <div class="tips">
                    <h4>ğŸ’¡ VSCode ë””ë²„ê¹… íŒ</h4>
                    <ul>
                        <li><strong>launch.json ì„¤ì •:</strong> Python ë””ë²„ê¹…ì„ ìœ„í•œ êµ¬ì„±</li>
                        <li><strong>ì¡°ê±´ë¶€ ë¸Œë ˆì´í¬í¬ì¸íŠ¸:</strong> íŠ¹ì • ì¡°ê±´ì—ì„œë§Œ ì¤‘ë‹¨</li>
                        <li><strong>ì˜ˆì™¸ ë¸Œë ˆì´í¬í¬ì¸íŠ¸:</strong> ì˜ˆì™¸ ë°œìƒ ì‹œ ìë™ ì¤‘ë‹¨</li>
                        <li><strong>ë³€ìˆ˜ ì›Œì¹˜:</strong> ì‹¤ì‹œê°„ ë³€ìˆ˜ ê°’ ëª¨ë‹ˆí„°ë§</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div id="checklist" class="tab-content">
            <div class="checklist">
                <h4>âœ… ì˜¤ë¥˜ ì²˜ë¦¬ ì²´í¬ë¦¬ìŠ¤íŠ¸</h4>
                
                <div class="checklist-item">
                    <input type="checkbox" id="check1">
                    <label for="check1">ë¡œê¹… ì‹œìŠ¤í…œ êµ¬ì¶• ì™„ë£Œ</label>
                </div>
                
                <div class="checklist-item">
                    <input type="checkbox" id="check2">
                    <label for="check2">í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ í™•ì¸</label>
                </div>
                
                <div class="checklist-item">
                    <input type="checkbox" id="check3">
                    <label for="check3">íŒŒì¼ ì¡´ì¬ ì—¬ë¶€ í™•ì¸</label>
                </div>
                
                <div class="checklist-item">
                    <input type="checkbox" id="check4">
                    <label for="check4">GPU/CPU ë©”ëª¨ë¦¬ ëª¨ë‹ˆí„°ë§</label>
                </div>
                
                <div class="checklist-item">
                    <input type="checkbox" id="check5">
                    <label for="check5">ì´ë¯¸ì§€ ë¡œë”© ê²€ì¦</label>
                </div>
                
                <div class="checklist-item">
                    <input type="checkbox" id="check6">
                    <label for="check6">ëª¨ë¸ ë¡œë”© ê²€ì¦</label>
                </div>
                
                <div class="checklist-item">
                    <input type="checkbox" id="check7">
                    <label for="check7">ì›¹ìº  ì—°ê²° ìƒíƒœ í™•ì¸</label>
                </div>
                
                <div class="checklist-item">
                    <input type="checkbox" id="check8">
                    <label for="check8">ì˜ˆì™¸ ì²˜ë¦¬ êµ¬í˜„</label>
                </div>
                
                <div class="checklist-item">
                    <input type="checkbox" id="check9">
                    <label for="check9">ì‚¬ìš©ì ì¹œí™”ì  ì˜¤ë¥˜ ë©”ì‹œì§€</label>
                </div>
                
                <div class="checklist-item">
                    <input type="checkbox" id="check10">
                    <label for="check10">ë¦¬ì†ŒìŠ¤ ì •ë¦¬ (cleanup) êµ¬í˜„</label>
                </div>
                
                <div class="checklist-item">
                    <input type="checkbox" id="check11">
                    <label for="check11">ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±</label>
                </div>
                
                <div class="checklist-item">
                    <input type="checkbox" id="check12">
                    <label for="check12">ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ êµ¬í˜„</label>
                </div>
            </div>
            
            <div class="interactive-demo">
                <h4>ğŸ§ª ì˜¤ë¥˜ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸ ë„êµ¬</h4>
                <p>ì•„ë˜ì—ì„œ ë‹¤ì–‘í•œ ì˜¤ë¥˜ ìƒí™©ì„ ì‹œë®¬ë ˆì´ì…˜í•´ë³´ì„¸ìš”:</p>
                
                <select id="errorType" class="demo-input">
                    <option value="file_not_found">íŒŒì¼ ì—†ìŒ ì˜¤ë¥˜</option>
                    <option value="invalid_image">ì˜ëª»ëœ ì´ë¯¸ì§€</option>
                    <option value="model_load_error">ëª¨ë¸ ë¡œë”© ì‹¤íŒ¨</option>
                    <option value="memory_error">ë©”ëª¨ë¦¬ ë¶€ì¡±</option>
                    <option value="gpu_error">GPU ì˜¤ë¥˜</option>
                </select>
                
                <button class="btn" onclick="simulateError()">ì˜¤ë¥˜ ì‹œë®¬ë ˆì´ì…˜</button>
                <button class="btn" onclick="clearOutput()">ì¶œë ¥ ì§€ìš°ê¸°</button>
                
                <div id="errorOutput" class="demo-output">
                    ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...
                </div>
            </div>
            
            <div class="section">
                <h3>ğŸš€ ë¹ ë¥¸ ì„¤ì • ê°€ì´ë“œ</h3>
                <div class="code-block">
                    <pre># 1. ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
conda create -n cv_project python=3.9
conda activate cv_project

# 2. í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜
pip install ultralytics opencv-python torch torchvision numpy

# 3. VSCode ì„¤ì •
# .vscode/settings.json
{
    "python.defaultInterpreterPath": "./venv/bin/python",
    "python.linting.enabled": true,
    "python.linting.pylintEnabled": true
}

# 4. ê¸°ë³¸ í”„ë¡œì íŠ¸ êµ¬ì¡°
project/
â”œâ”€â”€ main.py
â”œâ”€â”€ models/
â”œâ”€â”€ data/
â”œâ”€â”€ logs/
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ error_handler.py
â”‚   â””â”€â”€ logger.py
â””â”€â”€ tests/</pre>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        function showTab(tabName) {
            // ëª¨ë“  íƒ­ ìˆ¨ê¸°ê¸°
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // ëª¨ë“  íƒ­ ë²„íŠ¼ ë¹„í™œì„±í™”
            const buttons = document.querySelectorAll('.nav-tab');
            buttons.forEach(button => {
                button.classList.remove('active');
            });
            
            // ì„ íƒí•œ íƒ­ ë³´ì´ê¸°
            document.getElementById(tabName).classList.add('active');
            
            // ì„ íƒí•œ íƒ­ ë²„íŠ¼ í™œì„±í™”
            event.target.classList.add('active');
        }
        
        function simulateError() {
            const errorType = document.getElementById('errorType').value;
            const output = document.getElementById('errorOutput');
            
            const errorScenarios = {
                file_not_found: {
                    error: "FileNotFoundError: íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: 'model.pt'",
                    solution: "í•´ê²°ë°©ë²•:\n1. íŒŒì¼ ê²½ë¡œ í™•ì¸\n2. íŒŒì¼ ì¡´ì¬ ì—¬ë¶€ ê²€ì¦\n3. ëŒ€ì²´ ëª¨ë¸ ì‚¬ìš©",
                    code: "if not os.path.exists(model_path):\n    logger.error(f'ëª¨ë¸ íŒŒì¼ ì—†ìŒ: {model_path}')\n    return None"
                },
                invalid_image: {
                    error: "ValueError: ì´ë¯¸ì§€ ë¡œë”© ì‹¤íŒ¨",
                    solution: "í•´ê²°ë°©ë²•:\n1. ì´ë¯¸ì§€ í˜•ì‹ í™•ì¸\n2. íŒŒì¼ ì†ìƒ ì—¬ë¶€ ì²´í¬\n3. ë‹¤ë¥¸ ì´ë¯¸ì§€ë¡œ í…ŒìŠ¤íŠ¸",
                    code: "image = cv2.imread(image_path)\nif image is None:\n    raise ValueError('ì´ë¯¸ì§€ ë¡œë”© ì‹¤íŒ¨')"
                },
                model_load_error: {
                    error: "RuntimeError: YOLO ëª¨ë¸ ë¡œë”© ì‹¤íŒ¨",
                    solution: "í•´ê²°ë°©ë²•:\n1. ëª¨ë¸ íŒŒì¼ ë¬´ê²°ì„± í™•ì¸\n2. ë¼ì´ë¸ŒëŸ¬ë¦¬ ë²„ì „ ì²´í¬\n3. GPU ë©”ëª¨ë¦¬ í™•ì¸",
                    code: "try:\n    model = YOLO(model_path)\nexcept Exception as e:\n    logger.error(f'ëª¨ë¸ ë¡œë”© ì‹¤íŒ¨: {e}')"
                },
                memory_error: {
                    error: "MemoryError: ë©”ëª¨ë¦¬ ë¶€ì¡±",
                    solution: "í•´ê²°ë°©ë²•:\n1. ë°°ì¹˜ í¬ê¸° ì¤„ì´ê¸°\n2. ì´ë¯¸ì§€ í•´ìƒë„ ë‚®ì¶”ê¸°\n3. ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ ì‹¤í–‰",
                    code: "import gc\nif psutil.virtual_memory().percent > 80:\n    gc.collect()\n    return None"
                },
                gpu_error: {
                    error: "RuntimeError: CUDA out of memory",
                    solution: "í•´ê²°ë°©ë²•:\n1. GPU ë©”ëª¨ë¦¬ ì •ë¦¬\n2. CPU ëª¨ë“œë¡œ ì „í™˜\n3. ëª¨ë¸ í¬ê¸° ì¤„ì´ê¸°",
                    code: "try:\n    result = model(image)\nexcept torch.cuda.OutOfMemoryError:\n    model.to('cpu')\n    result = model(image)"
                }
            };
            
            const scenario = errorScenarios[errorType];
            
            output.innerHTML = `
                <div style="color: #ff6b6b; margin-bottom: 15px;">
                    <strong>âŒ ì˜¤ë¥˜:</strong><br>
                    ${scenario.error}
                </div>
                <div style="color: #51cf66; margin-bottom: 15px;">
                    <strong>âœ… ${scenario.solution}</strong>
                </div>
                <div style="color: #74c0fc;">
                    <strong>ğŸ“ ì½”ë“œ ì˜ˆì‹œ:</strong><br>
                    <pre style="background: #2d3748; padding: 10px; border-radius: 5px; margin-top: 10px;">${scenario.code}</pre>
                </div>
            `;
        }
        
        function clearOutput() {
            document.getElementById('errorOutput').innerHTML = 'ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...';
        }
        
        // ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒíƒœ ì €ì¥
        document.querySelectorAll('.checklist-item input').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const checkedCount = document.querySelectorAll('.checklist-item input:checked').length;
                const totalCount = document.querySelectorAll('.checklist-item input').length;
                
                if (checkedCount === totalCount) {
                    alert('ğŸ‰ ëª¨ë“  ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!');
                }
            });
        });
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ê¸°ë³¸ íƒ­ í™œì„±í™”
        document.addEventListener('DOMContentLoaded', function() {
            showTab('basics');
        });
    </script>
</body>
</html>